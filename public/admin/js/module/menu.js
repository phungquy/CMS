function showExtra(t){var e=$("#extra-"+t);"none"==e.css("display")?e.show("slow"):e.hide("slow")}function removeNes(t){swal({title:confirm_delete,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes!"},function(){var e=configs.admin_site+configs.controller+"/ajaxDeleteMenu";$.ajax({url:e,data:{id:t},cache:!1,success:function(e){if(e>0){var n=$("#nes-"+t);n&&n.remove(),new PNotify({title:success,text:deleted+"#"+t,type:"success",styling:"bootstrap3"})}else new PNotify({title:error,text:nonpermission,type:"error",styling:"bootstrap3"})}})})}$(".dd").nestable({maxDepth:3}),$(".dd").on("change",function(){event.preventDefault();var t=$(".dd").nestable("serialize");$("#nestable-output").val(JSON.stringify(t))}),$(".add-menu").click(function(){var t="Cho phép",e="Không cho phép",n="Xóa";"english"==configs.lang&&(t="Allow",e="Disallowance",n="Remove");var a=$("#formMenu").attr("data-id"),o=$(this).attr("data-id"),s=$(this).attr("data-name"),i=$(this).attr("data-ingredient-id"),l=$(this).attr("data-ingredient-name"),r=configs.admin_site+configs.controller+"/ajaxAddtoMenu";$.ajax({url:r,data:{menu_id:a,ingredient:i,ingredient_id:o},cache:!1,success:function(a){if(a>0){new PNotify({title:success,text:added+l+" "+s,type:"success",styling:"bootstrap3"});var o='<li class="dd-item dd3-item" id="nes-'+a+'" data-id="'+a+'"><div class="dd-handle dd3-handle">Drag</div><div class="dd3-content" onclick="showExtra(\''+a+'\')"><span class="pull-left"> '+s+'</span><cite class="pull-right"> '+l+'</cite></div><div class="item-content" id="extra-'+a+'"><label><span>Click</span><select class="form-control" name="allow'+a+'"><option value="1" selected>'+t+'</option><option value="0">'+e+'</option></select></label><label><span>Icon</span><input class="form-control" name="icon'+a+'" type="text"></label><label><span>Target</span><select class="form-control" name="target'+a+'"><option value="_self">_self</option><option value="_blank">_blank</option><option value="_parent">_parent</option><option value="_top">_top</option></select></label><button type="button" onclick="removeNes(\''+a+'\')" class="btn btn-danger">'+n+"</button></div></li>";$("#nestable-content").append(o)}else 0==a?new PNotify({title:error,text:exists,type:"error",styling:"bootstrap3"}):new PNotify({title:error,text:nonpermission,type:"error",styling:"bootstrap3"})}})});